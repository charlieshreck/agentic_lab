# ============================================================================
# Terraform Variables Example - Bare Metal Talos
# ============================================================================
# Copy this file to terraform.tfvars and adjust values for your hardware
# terraform.tfvars is gitignored for security
# ============================================================================

# Network Configuration
node_ip           = "10.20.0.109"
network_gateway   = "10.20.0.1"
network_cidr      = 24
network_interface = "eth0"  # Check during Talos maintenance mode: talosctl get links
dns_servers       = ["1.1.1.1", "8.8.8.8"]

# Cluster Configuration
cluster_name    = "agentic-platform"
node_hostname   = "agentic-01"
talos_version   = "v1.8.1"       # https://github.com/siderolabs/talos/releases
kubernetes_version = "v1.31.1"   # Compatible with Talos 1.8.x

# Disk Configuration
install_disk    = "/dev/nvme0n1"  # Check during maintenance mode: talosctl disks
disk_min_size   = 400             # Minimum 400GB (UM690L has 1.5TB)

# GitOps Repository
gitops_repo_url    = "https://github.com/charlieshreck/agentic_lab.git"
gitops_repo_branch = "main"

# ============================================================================
# Hardware-Specific Notes for UM690L
# ============================================================================
# CPU: AMD Ryzen 9 6900HX (8C/16T)
# RAM: 32GB DDR5-4800
# Storage: 1.5TB NVMe (typically shows as /dev/nvme0n1)
# GPU: Radeon 680M (RDNA2, built-in - will be enabled for Ollama)
# Network: 2x 2.5GbE (eth0 and eth1, typically only eth0 needed)
#
# ============================================================================
# Pre-Deployment Checklist
# ============================================================================
# 1. Download Talos ISO:
#    https://github.com/siderolabs/talos/releases/download/v1.8.1/metal-amd64.iso
#
# 2. Flash to USB drive:
#    dd if=metal-amd64.iso of=/dev/sdX bs=4M status=progress && sync
#
# 3. Boot UM690L from USB
#    - Enter BIOS (F2 or DEL during boot)
#    - Set boot order: USB first
#    - Disable Secure Boot if enabled
#
# 4. Verify network connectivity:
#    - Machine will boot into maintenance mode
#    - Check IP: Should get DHCP address initially
#    - Verify reachable from workstation: ping <ip>
#
# 5. Adjust variables above based on your network
#
# 6. Run terraform apply (see BARE_METAL_INSTALL.md for full guide)
#
# ============================================================================
# Network Interface Detection
# ============================================================================
# To find the correct interface name after booting Talos ISO:
#
# 1. Get temporary DHCP IP:
#    talosctl -n <dhcp-ip> get links
#
# 2. Look for physical interfaces (usually eth0, eth1)
#    - eth0: First onboard NIC
#    - eth1: Second onboard NIC
#
# 3. Update network_interface variable if not eth0
#
# ============================================================================
# Disk Selection
# ============================================================================
# To verify disk path after booting Talos ISO:
#
# talosctl -n <dhcp-ip> disks
#
# Common patterns:
# - NVMe: /dev/nvme0n1, /dev/nvme1n1, etc.
# - SATA SSD: /dev/sda, /dev/sdb, etc.
# - M.2 NVMe: Usually nvme0n1
#
# UM690L typically has:
# - Single 1.5TB NVMe: /dev/nvme0n1
#
# ============================================================================
